(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return m}));var c=n(4),r=n(22),a=n(6),o="https://router-quotes-acf44-default-rtdb.firebaseio.com";function s(){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(Object(c.a)().mark((function t(){var e,n,a,s,u;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent,e.ok){t.next=8;break}return t.abrupt("return",{quotes:[],error:e.statusText});case 8:for(s in a=[],n)u=Object(r.a)({id:s},n[s]),a.push(u);return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(Object(c.a)().mark((function t(e){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes/").concat(e,".json"));case 2:if(!(n=t.sent).ok){t.next=9;break}return t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 9:throw new Error("Couldn't fetch quote.");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(Object(c.a)().mark((function t(e){var n,a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes.json"),{method:"POST",body:JSON.stringify(Object(r.a)({},e)),headers:{"Content-type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:if(a=t.sent,n.ok){t.next=8;break}throw new Error("Could not feth quote.");case 8:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(Object(c.a)().mark((function t(e){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/comments/").concat(e.id,".json"),{method:"POST",body:JSON.stringify(e.value),headers:{"Content-Type":"application/json"}});case 2:if(n=t.sent,r=n.json(),n.ok){t.next=6;break}throw new Error("Could not add comment.");case 6:return t.abrupt("return",{commentID:r.name});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(Object(c.a)().mark((function t(e){var n,r,a,s,u;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/comments/").concat(e,".json"));case 2:return n=t.sent,t.next=5,n.json();case 5:if(r=t.sent,n.ok){t.next=8;break}throw new Error("Could get comments.");case 8:for(s in a=[],r)u={id:s,value:r[s]},a.push(u);return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var c=n(20),r=Object(c.b)({name:"newQuote",initialState:{author:"",text:"",isValid:!1,authTouched:!1,textTouched:!1,showComments:!1},reducers:{setAuth:function(t,e){t.authTouched=!0,t.author=e.payload},setText:function(t,e){t.textTouched=!0,t.text=e.payload},setValid:function(t,e){t.isValid=e.payload},reset:function(t){t.author="",t.text="",t.isValid=!1,t.authTouched=!1,t.textTouched=!1},authBlurHandler:function(t){t.authTouched=!1},textBlurHandler:function(t){t.textTouched=!1},setCommentsVisibility:function(t,e){t.showComments=e.payload}}}),a=r.reducer,o=r.actions},,,,function(t,e,n){t.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka"}},,,,,function(t,e,n){t.exports={form:"QuoteForm_form__3Ndw9",loading:"QuoteForm_loading__iDpS0",control:"QuoteForm_control__2lCiE",actions:"QuoteForm_actions__354La"}},,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var c=n(20),r=Object(c.b)({name:"auth",initialState:{token:null,isLoggedIn:!1},reducers:{logIn:function(t,e){t.token=e.payload,t.isLoggedIn=!!e.payload},logOut:function(t){t.token=null,t.isLoggedIn=!1}}}),a=r.reducer,o=r.actions},function(t,e,n){"use strict";var c=n(50),r=n.n(c),a=n(1);e.a=function(){return Object(a.jsx)("div",{className:r.a.spinner})}},,,,function(t,e,n){"use strict";var c=n(0),r=n.n(c),a=n(47),o=n.n(a),s=n(1),u=function(t){return Object(s.jsxs)("figure",{className:o.a.quote,children:[Object(s.jsx)("p",{children:t.text}),Object(s.jsx)("figcaption",{children:t.author})]})};e.a=r.a.memo(u)},function(t,e,n){t.exports={form:"NewCommentForm_form__2Te8b",loading:"NewCommentForm_loading__2veC2",control:"NewCommentForm_control__3NVeP",actions:"NewCommentForm_actions__2fwWP"}},,,,,function(t,e,n){t.exports={list:"QuoteList_list__3pzcl",sorting:"QuoteList_sorting__rL6H1"}},,,,,,function(t,e,n){t.exports={main:"Layout_main__auk_r"}},function(t,e,n){t.exports={item:"QuoteItem_item__2dOvb"}},function(t,e,n){t.exports={quote:"HighlightedQuote_quote__nE9T6"}},function(t,e,n){t.exports={item:"CommentItem_item__24mbD"}},function(t,e,n){t.exports={comments:"Comments_comments__iZX-v"}},function(t,e,n){t.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l})),n.d(e,"loader",(function(){return j}));var c=n(5),r=n(0),a=n(3),o=n(9),s=n(12),u=n(33),i=n(1);function l(){Object(r.useEffect)((function(){return s(!1)}),[]);var t=Object(r.useState)(!1),e=Object(c.a)(t,2),n=e[0],s=e[1],l=Object(a.m)();return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("h1",{className:"centered",children:"QuoteDetail"}),l?Object(i.jsx)(u.a,{text:l.text,author:l.author}):Object(i.jsx)(a.a,{to:"/no-quote-existed",replace:!0}),n?Object(i.jsx)(a.b,{}):Object(i.jsx)(o.b,{onClick:function(){return s(!0)},className:"btn--flat centered",to:"comments",children:" Render comments "})]})}function j(t){return Object(s.d)(t.params.quoteID)}},function(t,e,n){t.exports={card:"Card_card__1m44e"}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w})),n.d(e,"action",(function(){return N}));var c=n(4),r=n(6),a=n(2),o=n(12),s=n(0),u=n.n(s),i=n(11),l=n(14);var j=n(9),d=n(29),b=n(52),h=n.n(b),m=n(1),x=function(t){return Object(m.jsx)("div",{className:h.a.card,children:t.children})},f=u.a.memo(x),O=n(23),p=n.n(O),v=!0,g=function(t){var e=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.newQuoteReducer})),n=e.author,c=e.text,r=e.isValid,a=e.authTouched,o=e.textTouched;return Object(s.useEffect)((function(){""!==n.trim()&&""!==c.trim()?t(l.a.setValid(!0)):t(l.a.setValid(!1))}),[t,n,c]),{authChangeHandler:function(e){t(l.a.setAuth(e.target.value))},textChangeHandler:function(e){t(l.a.setText(e.target.value))},authorBlur:function(){t(l.a.authBlurHandler())},textBlur:function(){t(l.a.textBlurHandler())},authValid:a&&""===n.trim()&&!r,textValid:o&&""===c.trim()&&!r}}(),n=e.authChangeHandler,c=e.textChangeHandler,r=e.authorBlur,a=e.textBlur,o=e.authValid,u=e.textValid;v=!1;var b=Object(i.c)((function(t){return t.newQuoteReducer}));return Object(m.jsx)(f,{children:Object(m.jsxs)(j.a,{className:p.a.form,method:"post",action:"/new-quote",children:[t.isLoading&&Object(m.jsx)("div",{className:p.a.loading,children:Object(m.jsx)(d.a,{})}),Object(m.jsxs)("div",{className:p.a.control,children:[Object(m.jsx)("label",{htmlFor:"author",children:"Author "}),Object(m.jsx)("input",{style:{backgroundColor:o&&!v?"pink":"white"},onBlur:r,onChange:n,type:"text",name:"author",id:"author"})]}),Object(m.jsxs)("div",{className:p.a.control,children:[Object(m.jsx)("label",{htmlFor:"text",children:"Text"}),Object(m.jsx)("textarea",{style:{backgroundColor:u&&!v?"pink":"white"},onBlur:a,onChange:c,name:"text",id:"text",rows:"5"})]}),Object(m.jsx)("div",{className:p.a.actions,children:Object(m.jsx)("button",{type:"submit",className:"btn",disabled:!b.isValid,children:"Add Quote"})})]})})},_=u.a.memo(g);function w(){return Object(m.jsx)(_,{})}function N(t){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(Object(c.a)().mark((function t(e){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request.formData();case 2:return n=t.sent,r={author:n.get("author"),text:n.get("text")},t.prev=4,t.next=7,Object(o.c)(r);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(4),console.log(t.t0),t.t0;case 13:return t.abrupt("return",Object(a.n)("/quotes"));case 15:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}},,,,,,,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(42),r=n.n(c),a=n(11),o=n(20),s=n(14),u=n(28),i=Object(o.a)({reducer:{newQuoteReducer:s.b,authReducer:u.b}}),l=n(0),j=n.n(l),d=n(9),b=n(3),h=n(45),m=n.n(h),x=n(18),f=n.n(x),O=n(1);function p(){var t=Object(b.q)(),e=Object(a.b)(),n=Object(a.c)((function(t){return t.authReducer}));console.log(n);var c=Object(a.c)((function(t){return t.authReducer}));return Object(O.jsxs)("header",{className:f.a.header,children:[Object(O.jsx)("div",{className:f.a.logo,children:"Danylos Quotes"}),Object(O.jsx)("nav",{className:f.a.nav,children:Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[" ",Object(O.jsx)(d.c,{className:function(t){return t.isActive?f.a.active:""},to:"/quotes",children:" Quotes "})," "]}),c.isLoggedIn&&Object(O.jsxs)("li",{children:[" ",Object(O.jsx)(d.c,{className:function(t){return t.isActive?f.a.active:""},to:"/new-quote",children:" New Quotes "})," "]}),c.isLoggedIn?Object(O.jsxs)("li",{children:[" ",Object(O.jsx)("button",{onClick:function(){console.log("LOGOUT HANDLED"),e(u.a.logOut()),t("/quotes")},children:" Log Out "})]}):Object(O.jsxs)("li",{children:[" ",Object(O.jsx)(d.c,{className:function(t){return t.isActive?f.a.active:""},to:"/auth_form",children:" Log In "})," "]})]})})]})}function v(){return Object(O.jsxs)(l.Fragment,{children:[Object(O.jsx)(p,{}),Object(O.jsx)("main",{className:m.a.main,children:Object(O.jsx)(b.b,{})})]})}var g=n(10),_=n(12),w=n(46),N=n.n(w),y=function(t){return Object(O.jsxs)("li",{className:N.a.item,children:[Object(O.jsxs)("figure",{children:[Object(O.jsx)("blockquote",{children:Object(O.jsx)("p",{children:t.text})}),Object(O.jsx)("figcaption",{children:t.author})]}),Object(O.jsx)(d.b,{to:"".concat(t.id),className:"btn",children:"View Fullscreen"})]})},q=j.a.memo(y),k=n(39),C=n.n(k),T=function(t){var e,n,c=Object(b.q)(),r=Object(b.n)(),a="asc"===new URLSearchParams(r.search).get("sort"),o=(e=t.quotes,n=a,Object(g.a)(e).sort((function(t,e){return n?t.id>e.id?1:-1:t.id<e.id?1:-1})));return Object(O.jsxs)(l.Fragment,{children:[Object(O.jsx)("div",{className:C.a.sorting,children:Object(O.jsxs)("button",{onClick:function(){c("/quotes?sort=".concat(a?"des":"asc"))},children:["Sorted ",a?"Ascending":"Decending"]})}),Object(O.jsx)("ul",{className:C.a.list,children:o.map((function(t){return Object(O.jsx)(q,{id:t.id,author:t.author,text:t.text},t.id)}))})]})},I=j.a.memo(T);function D(){return Object(_.a)()}function L(){var t=Object(b.m)();return Object(O.jsx)(I,{quotes:t})}var Q=n(33),F=n(5),V=n(48),S=n.n(V),B=function(t){return Object(O.jsx)("li",{className:S.a.item,children:Object(O.jsx)("p",{children:t.text})})},A=n(4),E=n(6),H=n(2),R=n(34),P=n.n(R),z=function(t){return Object(O.jsxs)(d.a,{className:P.a.form,method:"post",action:"/quotes/".concat(t.id,"/comments"),children:[Object(O.jsxs)("div",{className:P.a.control,children:[Object(O.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(O.jsx)("textarea",{required:!0,id:"comment",rows:"5",name:"comment"})]}),Object(O.jsx)("div",{className:P.a.actions,children:Object(O.jsx)("button",{className:"btn",children:"Add Comment"})})]})},J=j.a.memo(z);function M(t){return K.apply(this,arguments)}function K(){return(K=Object(E.a)(Object(A.a)().mark((function t(e){var n,c;return Object(A.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request.formData();case 2:return n=t.sent,c={id:e.params.quoteID,value:n.get("comment")},t.prev=4,t.next=7,Object(_.b)(c);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:return t.abrupt("return",Object(H.n)("/quotes/".concat(e.params.quoteID,"/comments")));case 14:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}var U=n(49),W=n.n(U),X=function(){var t=Object(b.m)(),e=Object(l.useState)(),n=Object(F.a)(e,2),c=n[0],r=n[1],a=Object(b.s)();return Object(O.jsxs)("section",{className:W.a.comments,children:[Object(O.jsx)("h2",{children:"User Comments"}),!c&&Object(O.jsx)("button",{className:"btn",onClick:function(){r(!0)},children:"Add a Comment"}),c&&Object(O.jsx)(J,{id:a.quoteID}),Object(O.jsx)("ul",{children:t.map((function(t){return Object(O.jsx)(B,{text:t.value},t.id)}))})]})};function G(t){return Object(_.e)(t.params.quoteID)}var Y=n(29),Z=n(51),$=n(53);var tt=function(){var t=j.a.lazy((function(){return Promise.resolve().then(n.bind(null,53))})),e=j.a.lazy((function(){return Promise.resolve().then(n.bind(null,51))})),c=j.a.lazy((function(){return n.e(3).then(n.bind(null,70))})),r=j.a.lazy((function(){return n.e(5).then(n.t.bind(null,71,7))})),a=j.a.lazy((function(){return n.e(4).then(n.bind(null,72))})),o=Object(d.d)(Object(b.k)(Object(O.jsxs)(b.c,{path:"/",element:Object(O.jsx)(v,{}),errorElement:Object(O.jsx)(a,{}),children:[Object(O.jsx)(b.c,{index:!0,element:Object(O.jsx)(b.a,{to:"/quotes"})}),Object(O.jsx)(b.c,{path:"/quotes/*",element:Object(O.jsx)(L,{}),loader:D}),Object(O.jsx)(b.c,{path:"/new-quote",element:Object(O.jsx)(t,{}),action:$.action}),Object(O.jsx)(b.c,{path:"/quotes/:quoteID/*",element:Object(O.jsx)(e,{}),loader:Z.loader,children:Object(O.jsx)(b.c,{path:"comments",element:Object(O.jsx)(X,{}),loader:G,action:M})}),Object(O.jsx)(b.c,{path:"/highlighted",element:Object(O.jsx)(Q.a,{})}),Object(O.jsx)(b.c,{path:"/auth_form/*",element:Object(O.jsx)(c,{})}),Object(O.jsx)(b.c,{path:"/profile/:userID/*",element:Object(O.jsx)(r,{})})]})));return Object(O.jsx)(l.Suspense,{fallback:Object(O.jsxs)("div",{className:"centered",children:[" ",Object(O.jsx)(Y.a,{})," "]}),children:Object(O.jsx)(b.e,{router:o})})};n(66);r.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(a.a,{store:i,children:Object(O.jsx)(tt,{})}))}],[[67,1,2]]]);
//# sourceMappingURL=main.da0df6b9.chunk.js.map
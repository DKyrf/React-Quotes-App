(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return h}));var r=n(4),c=n(20),a=n(6),o="https://router-quotes-acf44-default-rtdb.firebaseio.com";function s(){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(Object(r.a)().mark((function t(){var e,n,a,s,u;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent,e.ok){t.next=8;break}return t.abrupt("return",{quotes:[],error:e.statusText});case 8:for(s in a=[],n)u=Object(c.a)({id:s},n[s]),a.push(u);return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(Object(r.a)().mark((function t(e){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes/").concat(e,".json"));case 2:if(!(n=t.sent).ok){t.next=9;break}return t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 9:throw new Error("Couldn't fetch quote.");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(Object(r.a)().mark((function t(e){var n,a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/quotes.json"),{method:"POST",body:JSON.stringify(Object(c.a)({},e)),headers:{"Content-type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:if(a=t.sent,n.ok){t.next=8;break}throw new Error("Could not feth quote.");case 8:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(Object(r.a)().mark((function t(e){var n,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/comments/").concat(e.id,".json"),{method:"POST",body:JSON.stringify(e.value),headers:{"Content-Type":"application/json"}});case 2:if(n=t.sent,c=n.json(),n.ok){t.next=6;break}throw new Error("Could not add comment.");case 6:return t.abrupt("return",{commentID:c.name});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(Object(r.a)().mark((function t(e){var n,c,a,s,u;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/comments/").concat(e,".json"));case 2:return n=t.sent,t.next=5,n.json();case 5:if(c=t.sent,n.ok){t.next=8;break}throw new Error("Could get comments.");case 8:for(s in a=[],c)u={id:s,value:c[s]},a.push(u);return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n(28),c=Object(r.b)({name:"newQuote",initialState:{author:"",text:"",isValid:!1,authTouched:!1,textTouched:!1,showComments:!1},reducers:{setAuth:function(t,e){t.authTouched=!0,t.author=e.payload},setText:function(t,e){t.textTouched=!0,t.text=e.payload},setValid:function(t,e){t.isValid=e.payload},reset:function(t){t.author="",t.text="",t.isValid=!1,t.authTouched=!1,t.textTouched=!1},authBlurHandler:function(t){t.authTouched=!1},textBlurHandler:function(t){t.textTouched=!1},setCommentsVisibility:function(t,e){t.showComments=e.payload}}}),a=c.reducer,o=c.actions},,,,,,,,function(t,e,n){t.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka"}},function(t,e,n){t.exports={form:"QuoteForm_form__3Ndw9",loading:"QuoteForm_loading__iDpS0",control:"QuoteForm_control__2lCiE",actions:"QuoteForm_actions__354La"}},,,,,,,,,function(t,e,n){"use strict";var r=n(0),c=n.n(r),a=n(46),o=n.n(a),s=n(1),u=function(t){return Object(s.jsxs)("figure",{className:o.a.quote,children:[Object(s.jsx)("p",{children:t.text}),Object(s.jsx)("figcaption",{children:t.author})]})};e.a=c.a.memo(u)},function(t,e,n){"use strict";var r=n(49),c=n.n(r),a=n(1);e.a=function(){return Object(a.jsx)("div",{className:c.a.spinner})}},function(t,e,n){t.exports={form:"NewCommentForm_form__2Te8b",loading:"NewCommentForm_loading__2veC2",control:"NewCommentForm_control__3NVeP",actions:"NewCommentForm_actions__2fwWP"}},,,,,function(t,e,n){t.exports={list:"QuoteList_list__3pzcl",sorting:"QuoteList_sorting__rL6H1"}},,,,,,function(t,e,n){t.exports={main:"Layout_main__auk_r"}},function(t,e,n){t.exports={item:"QuoteItem_item__2dOvb"}},function(t,e,n){t.exports={quote:"HighlightedQuote_quote__nE9T6"}},function(t,e,n){t.exports={item:"CommentItem_item__24mbD"}},function(t,e,n){t.exports={comments:"Comments_comments__iZX-v"}},function(t,e,n){t.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l})),n.d(e,"loader",(function(){return j}));var r=n(5),c=n(0),a=n(3),o=n(9),s=n(11),u=n(31),i=n(1);function l(){Object(c.useEffect)((function(){return s(!1)}),[]);var t=Object(c.useState)(!1),e=Object(r.a)(t,2),n=e[0],s=e[1],l=Object(a.m)();return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("h1",{children:"QuoteDetail"}),l?Object(i.jsx)(u.a,{text:l.text,author:l.author}):Object(i.jsx)(a.a,{to:"/no-quote-existed",replace:!0}),n?Object(i.jsx)(a.b,{}):Object(i.jsx)(o.b,{onClick:function(){return s(!0)},className:"btn--flat centered",to:"comments",children:" Render comments "})]})}function j(t){return Object(s.d)(t.params.quoteID)}},function(t,e,n){t.exports={card:"Card_card__1m44e"}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w})),n.d(e,"action",(function(){return N}));var r=n(4),c=n(6),a=n(2),o=n(11),s=n(0),u=n.n(s),i=n(15),l=n(13);var j=n(9),d=n(32),b=n(51),m=n.n(b),h=n(1),x=function(t){return Object(h.jsx)("div",{className:m.a.card,children:t.children})},f=u.a.memo(x),O=n(22),p=n.n(O),v=!0,_=function(t){var e=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.newQuoteReducer})),n=e.author,r=e.text,c=e.isValid,a=e.authTouched,o=e.textTouched;return Object(s.useEffect)((function(){""!==n.trim()&&""!==r.trim()?t(l.a.setValid(!0)):t(l.a.setValid(!1))}),[t,n,r]),{authChangeHandler:function(e){t(l.a.setAuth(e.target.value))},textChangeHandler:function(e){t(l.a.setText(e.target.value))},authorBlur:function(){t(l.a.authBlurHandler())},textBlur:function(){t(l.a.textBlurHandler())},authValid:a&&""===n.trim()&&!c,textValid:o&&""===r.trim()&&!c}}(),n=e.authChangeHandler,r=e.textChangeHandler,c=e.authorBlur,a=e.textBlur,o=e.authValid,u=e.textValid;v=!1;var b=Object(i.c)((function(t){return t.newQuoteReducer}));return Object(h.jsx)(f,{children:Object(h.jsxs)(j.a,{className:p.a.form,method:"post",action:"/new-quote",children:[t.isLoading&&Object(h.jsx)("div",{className:p.a.loading,children:Object(h.jsx)(d.a,{})}),Object(h.jsxs)("div",{className:p.a.control,children:[Object(h.jsx)("label",{htmlFor:"author",children:"Author "}),Object(h.jsx)("input",{style:{backgroundColor:o&&!v?"pink":"white"},onBlur:c,onChange:n,type:"text",name:"author",id:"author"})]}),Object(h.jsxs)("div",{className:p.a.control,children:[Object(h.jsx)("label",{htmlFor:"text",children:"Text"}),Object(h.jsx)("textarea",{style:{backgroundColor:u&&!v?"pink":"white"},onBlur:a,onChange:r,name:"text",id:"text",rows:"5"})]}),Object(h.jsx)("div",{className:p.a.actions,children:Object(h.jsx)("button",{type:"submit",className:"btn",disabled:!b.isValid,children:"Add Quote"})})]})})},g=u.a.memo(_);function w(){return Object(h.jsx)(g,{})}function N(t){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(Object(r.a)().mark((function t(e){var n,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request.formData();case 2:return n=t.sent,c={author:n.get("author"),text:n.get("text")},t.prev=4,t.next=7,Object(o.c)(c);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(4),console.log(t.t0),t.t0;case 13:return t.abrupt("return",Object(a.n)("/quotes"));case 15:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}},,,,,,,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(41),c=n.n(r),a=n(15),o=n(28),s=n(13),u=Object(o.a)({reducer:{newQuoteReducer:s.b}}),i=n(0),l=n.n(i),j=n(9),d=n(3),b=n(44),m=n.n(b),h=n(21),x=n.n(h),f=n(1);function O(){return Object(f.jsxs)("header",{className:x.a.header,children:[Object(f.jsx)("div",{className:x.a.logo,children:"Danylos Quotes"}),Object(f.jsx)("nav",{className:x.a.nav,children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:[" ",Object(f.jsx)(j.c,{className:function(t){return t.isActive?x.a.active:""},to:"/quotes",children:"Quotes"})," "]}),Object(f.jsxs)("li",{children:[" ",Object(f.jsx)(j.c,{className:function(t){return t.isActive?x.a.active:""},to:"/new-quote",children:"New Quotes"})," "]})]})})]})}function p(){return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsx)("main",{className:m.a.main,children:Object(f.jsx)(d.b,{})})]})}var v=n(10),_=n(11),g=n(45),w=n.n(g),N=function(t){return Object(f.jsxs)("li",{className:w.a.item,children:[Object(f.jsxs)("figure",{children:[Object(f.jsx)("blockquote",{children:Object(f.jsx)("p",{children:t.text})}),Object(f.jsx)("figcaption",{children:t.author})]}),Object(f.jsx)(j.b,{to:"".concat(t.id),className:"btn",children:"View Fullscreen"})]})},y=l.a.memo(N),q=n(38),C=n.n(q),k=function(t){var e,n,r=Object(d.q)(),c=Object(d.n)(),a="asc"===new URLSearchParams(c.search).get("sort"),o=(e=t.quotes,n=a,Object(v.a)(e).sort((function(t,e){return n?t.id>e.id?1:-1:t.id<e.id?1:-1})));return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)("div",{className:C.a.sorting,children:Object(f.jsxs)("button",{onClick:function(){r("/quotes?sort=".concat(a?"des":"asc"))},children:["Sorted ",a?"Ascending":"Decending"]})}),Object(f.jsx)("ul",{className:C.a.list,children:o.map((function(t){return Object(f.jsx)(y,{id:t.id,author:t.author,text:t.text},t.id)}))})]})},T=l.a.memo(k);function Q(){return Object(_.a)()}function F(){var t=Object(d.m)();return Object(f.jsx)(T,{quotes:t})}var V=n(31),D=n(5),B=n(47),S=n.n(B),E=function(t){return Object(f.jsx)("li",{className:S.a.item,children:Object(f.jsx)("p",{children:t.text})})},H=n(4),I=n(6),A=n(2),L=n(33),P=n.n(L),R=function(t){return Object(f.jsxs)(j.a,{className:P.a.form,method:"post",action:"/quotes/".concat(t.id,"/comments"),children:[Object(f.jsxs)("div",{className:P.a.control,children:[Object(f.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(f.jsx)("textarea",{required:!0,id:"comment",rows:"5",name:"comment"})]}),Object(f.jsx)("div",{className:P.a.actions,children:Object(f.jsx)("button",{className:"btn",children:"Add Comment"})})]})},J=l.a.memo(R);function z(t){return M.apply(this,arguments)}function M(){return(M=Object(I.a)(Object(H.a)().mark((function t(e){var n,r;return Object(H.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request.formData();case 2:return n=t.sent,r={id:e.params.quoteID,value:n.get("comment")},t.prev=4,t.next=7,Object(_.b)(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:return t.abrupt("return",Object(A.n)("/quotes/".concat(e.params.quoteID,"/comments")));case 14:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}var K=n(48),U=n.n(K),W=function(){var t=Object(d.m)(),e=Object(i.useState)(),n=Object(D.a)(e,2),r=n[0],c=n[1],a=Object(d.s)();return Object(f.jsxs)("section",{className:U.a.comments,children:[Object(f.jsx)("h2",{children:"User Comments"}),!r&&Object(f.jsx)("button",{className:"btn",onClick:function(){c(!0)},children:"Add a Comment"}),r&&Object(f.jsx)(J,{id:a.quoteID}),Object(f.jsx)("ul",{children:t.map((function(t){return Object(f.jsx)(E,{text:t.value},t.id)}))})]})};function X(t){return Object(_.e)(t.params.quoteID)}var Y=n(32),Z=n(50),G=n(52);var $=function(){var t=l.a.lazy((function(){return Promise.resolve().then(n.bind(null,52))})),e=l.a.lazy((function(){return Promise.resolve().then(n.bind(null,50))})),r=l.a.lazy((function(){return n.e(3).then(n.bind(null,68))})),c=Object(j.d)(Object(d.k)(Object(f.jsxs)(d.c,{path:"/",element:Object(f.jsx)(p,{}),errorElement:Object(f.jsx)(r,{}),children:[Object(f.jsx)(d.c,{path:"/quotes/*",element:Object(f.jsx)(F,{}),loader:Q}),Object(f.jsx)(d.c,{path:"/new-quote",element:Object(f.jsx)(t,{}),action:G.action}),Object(f.jsx)(d.c,{path:"/quotes/:quoteID/*",element:Object(f.jsx)(e,{}),loader:Z.loader,children:Object(f.jsx)(d.c,{path:"comments",element:Object(f.jsx)(W,{}),loader:X,action:z})}),Object(f.jsx)(d.c,{path:"/highlighted",element:Object(f.jsx)(V.a,{})})]})));return Object(f.jsx)(i.Suspense,{fallback:Object(f.jsxs)("div",{className:"centered",children:[" ",Object(f.jsx)(Y.a,{})," "]}),children:Object(f.jsx)(d.e,{router:c})})};n(65);c.a.createRoot(document.getElementById("root")).render(Object(f.jsx)(a.a,{store:u,children:Object(f.jsx)($,{})}))}],[[66,1,2]]]);
//# sourceMappingURL=main.d25121a9.chunk.js.map